# Архитектура проекта

## Общий обзор

Проект построен по архитектуре клиент-сервер с использованием Django REST Framework для бэкенда и Vanilla JavaScript для фронтенда.

## Компоненты системы

### Бэкенд (Django)

#### Модели данных

1. **QuestionSet**
   - Набор вопросов
   - Содержит название и статус активности
   - Связан с вопросами через ForeignKey

2. **Question**
   - Отдельный вопрос
   - Содержит текст вопроса
   - Привязан к набору

#### API Endpoints

1. **Sets API**
   - CRUD операции для наборов
   - Управление активностью наборов
   - Вложенные операции с вопросами

#### Сериализаторы

1. **QuestionSerializer**
   - Сериализация/десериализация вопросов
   - Валидация текста вопроса

2. **QuestionSetSerializer**
   - Сериализация/десериализация наборов
   - Вложенная сериализация вопросов

### Фронтенд (JavaScript)

#### Компоненты

1. **App**
   - Основной компонент приложения
   - Управление состоянием
   - Инициализация других компонентов

2. **SetsManager**
   - Управление наборами вопросов
   - CRUD операции
   - Drag-and-drop функциональность

3. **DataService**
   - Взаимодействие с API
   - Управление данными
   - Кэширование

#### События

1. **setsUpdated**
   - Обновление списка наборов
   - Перерисовка интерфейса

2. **setActivated**
   - Активация набора
   - Обновление UI

## Потоки данных

### Создание набора

1. Пользователь вводит данные
2. Frontend валидирует ввод
3. DataService отправляет POST запрос
4. Backend создает набор
5. Frontend обновляет UI

### Удаление набора

1. Пользователь подтверждает удаление
2. DataService отправляет DELETE запрос
3. Backend удаляет набор
4. Frontend обновляет UI

### Переключение активности

1. Пользователь нажимает переключатель
2. DataService отправляет PATCH запрос
3. Backend обновляет статус
4. Frontend обновляет UI

## Безопасность

### API Безопасность

1. Валидация входных данных
2. Защита от CSRF
3. Rate limiting

### Frontend Безопасность

1. Валидация на стороне клиента
2. Безопасная обработка данных
3. XSS защита

## Масштабируемость

### Горизонтальное масштабирование

1. Stateless API
2. Кэширование
3. Балансировка нагрузки

### Вертикальное масштабирование

1. Оптимизация запросов
2. Индексация базы данных
3. Кэширование на уровне приложения

## Мониторинг

### Метрики

1. Время ответа API
2. Использование ресурсов
3. Ошибки и исключения

### Логирование

1. API запросы
2. Ошибки приложения
3. Пользовательские действия

## Развертывание

### Требования к окружению

1. Python 3.8+
2. Node.js 14+
3. SQLite/PostgreSQL

### Процесс деплоя

1. Сборка фронтенда
2. Миграции базы данных
3. Настройка веб-сервера 